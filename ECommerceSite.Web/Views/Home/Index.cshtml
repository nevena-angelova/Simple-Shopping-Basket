@using ECommerceSite.Web.Models;
@model ICollection<ProductViewModel>
@{
    ViewBag.Title = "Home Page";
}

<div class="all-products">
    @foreach (var product in Model)
    {
        <div class="product" id="@product.Id">
            <h4>@product.Name</h4>
            <h5>Price: <strong>@product.Price</strong></h5>
            <p>@product.Description</p>
            <a class="btn btn-default" href="#" onclick="
               @(User.Identity.IsAuthenticated ? "addToBasketDB(" + product.Id + ")" :
                    "addToBasketLS(" + Json.Encode(new {Id = product.Id, Name = product.Name, Price = product.Price }) + ")") ">
                Add to basket &raquo;
            </a>
        </div>
    }
</div>